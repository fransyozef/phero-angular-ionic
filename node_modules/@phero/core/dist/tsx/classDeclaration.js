"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.classDeclaration = void 0;
const typescript_1 = __importDefault(require("typescript"));
const lib_1 = require("./lib");
function classDeclaration(props) {
    var _a;
    return typescript_1.default.factory.createClassDeclaration((0, lib_1.generateModifiers)([props.export && typescript_1.default.SyntaxKind.ExportKeyword]), props.name, props.typeParams, getHeritageClauses(props), [
        ...(props.constructor ? [props.constructor] : []),
        ...((_a = props.properties) !== null && _a !== void 0 ? _a : []),
    ]);
}
exports.classDeclaration = classDeclaration;
function getHeritageClauses({ extendsType, implementTypes, }) {
    const result = [];
    if (extendsType) {
        result.push(typescript_1.default.factory.createHeritageClause(typescript_1.default.SyntaxKind.ExtendsKeyword, [
            extendsType,
        ]));
    }
    if (implementTypes === null || implementTypes === void 0 ? void 0 : implementTypes.length) {
        result.push(typescript_1.default.factory.createHeritageClause(typescript_1.default.SyntaxKind.ImplementsKeyword, implementTypes));
    }
    if (result.length) {
        return result;
    }
    return undefined;
}
